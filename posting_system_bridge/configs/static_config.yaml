config_vars: ./configs/config_vars.yaml

components_manager:
    components:
        server:
            listener:
                port: $server-port
                task_processor: main-task-processor

        post-db:
            dbconnection: $db-path
            blocking_task_processor: fs-task-processor
            dns_resolver: async
            sync-start: true
            connlimit_mode: auto
            min_pool_size: 50
            max_pool_size: 1000
            max_queue_size: 10000

        post-manager: {}
        post-storage: {}

        testsuite-support: {}

        dns-client:
            fs-task-processor: fs-task-processor

        post-controller:
            path: /posts/{id}/*
            method: [GET, PUT, DELETE, POST]
            task_processor: main-task-processor

        logging:
            fs-task-processor: fs-task-processor
            loggers:
                default:
                    file_path: "@stdout"
                    level: $logger-level
                    format: ltsv

    task_processors:
        main-task-processor:
            worker_threads: $worker-threads

        fs-task-processor:
            worker_threads: $worker-fs-threads

    default_task_processor: main-task-processor
